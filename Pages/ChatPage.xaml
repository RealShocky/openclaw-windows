<UserControl x:Class="OpenClawGUI.Pages.ChatPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ui="http://schemas.modernwpf.com/2019"
             Background="#0D1117">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto" Padding="20">
            <ItemsControl x:Name="MessagesPanel">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Background="{Binding Background}"
                                CornerRadius="8"
                                MaxWidth="800"
                                HorizontalAlignment="{Binding Alignment}"
                                Margin="0,0,0,15"
                                Padding="15">
                            <StackPanel>
                                <TextBlock Text="{Binding Sender}" 
                                           FontWeight="SemiBold" 
                                           Foreground="{Binding SenderColor}"
                                           FontSize="12"
                                           Margin="0,0,0,5"/>
                                <TextBox Text="{Binding Message, Mode=OneWay}" 
                                         TextWrapping="Wrap" 
                                         Foreground="#E6EDF3"
                                         Background="Transparent"
                                         BorderThickness="0"
                                         FontSize="14"
                                         IsReadOnly="True"
                                         IsTabStop="False"
                                         Cursor="Arrow"/>
                                <TextBlock Text="{Binding Time}" 
                                           FontSize="10" 
                                           Foreground="#7D8590"
                                           Margin="0,8,0,0"/>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

        <Border Grid.Row="1" Background="#161B22" BorderBrush="#30363D" BorderThickness="0,1,0,0" Padding="20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBox x:Name="MessageInput"
                         Grid.Column="0"
                         Background="#0D1117"
                         Foreground="#E6EDF3"
                         BorderBrush="#30363D"
                         BorderThickness="1"
                         Padding="12"
                         FontSize="14"
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         MaxHeight="120"
                         VerticalScrollBarVisibility="Auto"
                         KeyDown="MessageInput_KeyDown"/>

                <Button x:Name="SendButton"
                        Grid.Column="1"
                        Content="ðŸ“¤ SEND"
                        Click="SendButton_Click"
                        Background="#238636"
                        Foreground="White"
                        BorderThickness="0"
                        Padding="20,12"
                        Margin="10,0,0,0"
                        FontWeight="SemiBold"
                        FontSize="13"
                        Cursor="Hand"/>
            </Grid>
        </Border>
    </Grid>
</UserControl>
